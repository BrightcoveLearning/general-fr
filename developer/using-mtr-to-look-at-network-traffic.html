---
title: 'Utilisation de MTR (mon traceroute)'
description: 'MTR est un outil en ligne de commande qui combine les capacités de la norme <code translate="No">traceroute</code> et <code translate="No">ping</code> commandes pour aider à déboguer les problèmes de réseau.'
parent: Developers
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.summary }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">Introduction</h2>
    <p>MTR est un outil populaire pour diagnostiquer les problèmes liés au réseau. Il combine les fonctionnalités du <code translate="No">ping</code> et <code translate="No">traceroute</code> commandes. La soumission de rapports MTR peut aider le support Brightcove à résoudre des problèmes dans certains cas.</p>
    <p>Pour plus <a href="https://xneelo.co.za/help-centre/website/how-to-run-an-mtr/">d'informations sur l'installation de MTR, reportez-vous à la section Comment exécuter un</a> MTR.</p>
    <aside class="bcls-aside bcls-aside--information language-editable"> Notez que Homebrew installe maintenant MTR dans un répertoire sans chemin (au moins sur Mac). Pour pouvoir exécuter MTR, vous devrez effectuer les opérations suivantes dans le terminal :
<pre class="line-numbers"><code class="language-bash" translate="No">cd /usr/local/Cellar/mtr/
# to get the version number - in this case 0.94 - and cd into that directory's /sbin directory
ls
cd 0.94/sbin
# now copy mtr to the path
sudo cp mtr /usr/local/bin
</code></pre>
      <p>Maintenant, vous pourrez courir <code translate="No">sudo mtr</code> (à l'aide de <code translate="No">sudo</code> est requis)</p>
    </aside>
    <p>Les étapes ci-dessous vous permettront d'effectuer l'installation et l'utilisation de base de Wireshark.</p>
  </section>
  <section class="bcls-section">
    <h2 id="using_wireshark">Utilisation de MTR</h2>
    <p>Les instructions ci-dessous supposent que vous exécutez MTR en tant qu'application en ligne de commande sur Mac OS. Si vous exécutez WinMTR à la place, la seule différence est que vous entrez simplement le domaine ou l'adresse IP que vous souhaitez analyser à la place en cours d'exécution <code translate="No">mtr {domain or IP address}</code>.</p>
    <ol class="bcls-tasklist">
      <li>Lancer le terminal.</li>
      <li>
        Entrez la commande suivante :
        <pre class="line-numbers"><code class="language-bash" translate="No">sudo mtr players.brightcove.net</code></pre>
      </li>
      <li>
        Vous devriez voir un affichage qui ressemble à ceci :
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-display.png" alt="MTR Display">
          <figcaption class="bcls-caption--image">Affichage MTR</figcaption>
        </figure>
      </li>
      <li>
        Notez les commandes répertoriées au-dessus de l'affichage des données, ou appuyez sur <samp translate="No">h</samp> pour voir toutes les commandes disponibles :
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-commands.png" alt="MTR Commands">
          <figcaption class="bcls-caption--image">Commandes MTR</figcaption>
        </figure>
      </li>
      <li>
        Copiez et collez les informations que vous voulez à partir du terminal :
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-data.png" alt="Copy MTR Data">
          <figcaption class="bcls-caption--image">Copier les données MTR</figcaption>
        </figure>
      </li>
      <li>Vous pouvez appuyer sur <samp translate="No">q</samp> à tout moment pour arrêter le MTR.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Using_mtr_with_Live">Utiliser MTR avec Live</h2>
    <p>L'utilisation de MTR avec des flux en direct est similaire à son utilisation pour analyser la VOD, mais un peu différente car MTR envoie des paquets de requête ICMP et la plupart des appareils Internet dépriorisent les requêtes de suivi ICMP et limitent intentionnellement le trafic ICMP, ce qui peut créer l'illusion de perte de paquets.</p>
    <p>De plus, vous devez exécuter MTR à la fois sur l'URL RTMP et sur l'URL de lecture, car des problèmes peuvent survenir à la fois en entrée et en sortie.</p>
    <p>Pour résoudre correctement les problèmes de connectivité, une trace basée sur TCP doit être exécutée. Vous trouverez ci-dessous un exemple exécuté sur l'URL RMTP pour les utilisateurs Mac.</p>
    <pre><code class="language-bash" translate="No">sudo mtr -n -T -c 200 <span class="bc-highlight">1a244fa8f08a464e869695dd01c890d6.sep.bcovlive.io</span> --report</code></pre>

    <p>La partie mise en surbrillance est le domaine de lecture en direct extrait de l'URL du <strong>point de terminaison</strong> affichée dans le module Live :</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/developer/live-domain-for-mtr.png" alt="Playback URL">
      <figcaption class="bcls-caption--image">URL de lecture</figcaption>
    </figure>

    <h3>Exemple de sortie</h3>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/developer/mtr-sample-response.png" alt="Sample MTR Output for Live">
      <figcaption class="bcls-caption--image">Exemple de commande et de sortie MTR pour Live</figcaption>
    </figure>
  </section>
</article>